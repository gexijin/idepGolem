% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_analysis_random.R
\name{detect_groups}
\alias{detect_groups}
\title{Detect groups by sample names}
\usage{
detect_groups(
  sample_names,
  sample_info = NULL,
  max_groups = 12,
  max_length = 30,
  preserve_original = FALSE
)
}
\arguments{
\item{sample_names}{Vector of column headings from data file or design file}

\item{sample_info}{Matrix of the experiment design information}

\item{max_groups}{Maximum number of groups to display (default 12). Groups
beyond this limit are recoded as "Other", resulting in max_groups + 1 total.}

\item{max_length}{Maximum length for group names (default 30). Longer names
are truncated to improve plot readability.}

\item{preserve_original}{When TRUE, skips all downstream recoding, capping,
and truncation logic so the raw parsed group labels are returned unchanged.
Useful for statistical modeling steps that must operate on the original
experimental design.}
}
\value{
A character vector with the groups. Non-replicated groups become "Other",
 groups beyond max_groups become "Other", all non-replicated become "Samples",
 and long names (>max_length) are truncated.
}
\description{
Detects groups from column names in sample info file so that they can be used
for things such as coloring plots or building the model for DEG analysis.
Groups with only one sample (no replicates) are labeled as "Other". If more
than max_groups exist, only the most frequent groups are kept and the rest
are recoded as "Other". If all samples end up as "Other" (no groups have
replicates), they are relabeled as "Samples" to prevent legend overflow.
Group names longer than max_length characters are truncated.
}
\note{
This function is mainly called internally in other idepGolem functions.
 Warnings are shown if groups are recoded or truncated.
}
