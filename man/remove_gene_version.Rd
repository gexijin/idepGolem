% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_analysis_random.R
\name{remove_gene_version}
\alias{remove_gene_version}
\title{Remove version numbers from Ensembl and RefSeq IDs}
\usage{
remove_gene_version(ensembl_ids)
}
\arguments{
\item{ensembl_ids}{A character vector of gene/transcript/protein IDs with or
without version numbers. Supports Ensembl (ENS...) and RefSeq (NM_, NP_,
NR_, XM_, XP_) formats. Strings that don't match are returned unchanged.
Version numbers with 3+ digits are NOT removed. NA values are preserved.}
}
\value{
A character vector of IDs without version numbers. Valid IDs without
  versions are returned unchanged. Invalid/non-matching strings are returned
  unchanged. IDs with 3+ digit versions are unchanged. Trailing dots are
  removed. NA values are preserved.
}
\description{
Takes gene, transcript, or protein IDs with version numbers and removes the
version suffix to return just the base ID. Supports Ensembl IDs (genes,
transcripts, proteins) and RefSeq IDs (mRNA, protein, ncRNA). Uses vectorized
operations for efficient processing of multiple IDs.
}
\details{
Supported ID patterns:
- Ensembl: ENS + characters + 11 digits + optional version
  Format: ENS[A-Z]+########### where:
  - ENS = prefix (case-insensitive)
  - [A-Z]+ = 1+ letters: species code (MUS, DAR, etc.) + type (G, T, P, E)
  - ########### = exactly 11 digits
  - .# = optional 1-2 digit version
  Examples: ENSG00000211459.2, ENSMUSG00000025902.5, ENST00000456328.2
- RefSeq: [prefix]_######.# where:
  - [prefix] = NM (mRNA), NP (protein), NR (ncRNA), XM (predicted mRNA),
    XR (predicted ncRNA), XP (predicted protein)
  - ###### = 6-9 digits
  Examples: NM_000546.5, NP_000537.3, XM_011545467.2, XR_007058843.1

Version numbers with 3+ digits are NOT removed (likely not versions).
Trailing dots without version numbers are removed.
Prefix matching is case-insensitive.
Non-matching strings are returned unchanged.
}
\examples{
# Ensembl gene IDs
remove_gene_version("ENSG00000211459.2")  # Human gene
# Returns: "ENSG00000211459"

remove_gene_version("ENSMUSG00000025902.5")  # Mouse gene
# Returns: "ENSMUSG00000025902"

# Ensembl transcript and protein IDs
remove_gene_version("ENST00000456328.2")  # Transcript
# Returns: "ENST00000456328"

remove_gene_version("ENSP00000384458.1")  # Protein
# Returns: "ENSP00000384458"

# RefSeq IDs
remove_gene_version("NM_000546.5")  # mRNA
# Returns: "NM_000546"

remove_gene_version("NP_000537.3")  # Protein
# Returns: "NP_000537"

remove_gene_version("XR_007058843.1")  # Predicted ncRNA
# Returns: "XR_007058843"

# Version with 3+ digits is NOT removed
remove_gene_version("ENSG00000222222.333")
# Returns: "ENSG00000222222.333"

# Trailing dot without digits is removed
remove_gene_version(c("ENSG00000211459.", "NM_000546."))
# Returns: c("ENSG00000211459", "NM_000546")

}
